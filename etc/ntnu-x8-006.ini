[Require uav/arduplane.ini]
[Require uav/rtklib-rover.ini]

[General]
Vehicle   									= ntnu-x8-006

[Navigation.WindEstimator]
Enabled 									= Always
Entity Label 								= Wind Estimator
Sample Window Size							= 1000
Q Size										= 1000
Trusted Limit								= 1e-3

[Actuators.LogicOutput.BBB]
Enabled                                    = Hardware
Entity Label                               = Beaglebone
Pin                                        = 48
Initial Output                             = 1

[Control.UAV.Ardupilot/AP-SIL]
#Ardupilot Tracker			               = True
#RC 1 PWM MIN                               = 1000
#RC 1 PWM MAX                               = 2000
#RC 1 MAX                                   = 65.0
#RC 2 PWM MIN                               = 1000
#RC 2 PWM MAX                               = 2000
#RC 2 MAX                                   = 2.0
#RC 2 REV                                   = True
#RC 3 PWM MIN                               = 1000
#RC 3 PWM MAX                               = 2000
#RC 3 MIN                                   = 10.0
#RC 3 MAX                                   = 30.0
#Entity Label                               = Autopilot
Telemetry Rate							   = 25
#Enabled									   = Hardware
#TCP - Address 							   = 127.0.0.1#10.0.60.126 # Used to connect to ArduPilot from BBB
#TCP - Port								   = 5762#5762 # Used to connect to ArduPilot from BBB

#[Transports.SerialOverTCP]                                                      
#Enabled = Hardware                                                              
#Entity Label = Arduino Serial                                                   
#Serial Port - Device =/dev/uart/1                                               
#Serial Port - Baud Rate = 115200                                                
#TCP - Port = 9999                         

[Control.UAV.Ardupilot/Hardware]
#Ardupilot Tracker			               = True
#RC 1 PWM MIN                               = 899
#RC 1 PWM MAX                               = 2101
#RC 1 MAX                                   = 45.0
#RC 2 PWM MIN                               = 899
#RC 2 PWM MAX                               = 2064
#RC 2 MAX                                   = 2.0
#RC 2 REV                                   = False
#RC 3 PWM MIN                               = 954
#RC 3 PWM MAX                               = 1901
#RC 3 MIN                                   = 12.0
#RC 3 MAX                                   = 22.0
#Enabled                                    = Hardware
#Entity Label                               = Autopilot
TCP - Address                              = 10.0.60.127
TCP - Port                                 = 9801
#TCP - Address                              = 127.0.0.1
#TCP - Port                                 = 9999
#10
#[General]
#Time Of Arrival Factor                  	= 5.0


[Autonomy.DropOnTarget]
Enabled 									= Always
Entity Label 								= Drop on Target 				
Altitude Interval							= 1		
Connection Timeout							= 0.0
Acceptance Proximity					    = 20
Distance From Circle TO CARP				= 100
Percent Accurate							= 7
Turn Radius									= 75
Speed										= 17
Drop Error									= 5
Release Height								= 80
Safe Height									= 80
Glide Time 									= 2.0 # More than 1 sec (time to drop current)
Drop Time									= 0.4
Time Step									= 0.01
Optimize Points								= 60
Optimize Rads								= 1
Max Counter									= 100000
Optimization Rate Inverse					= 5
Position Weight								= 5
Velocity Weight								= 1
Use Wind Estimator							= true
Max Drop Current			 				= 3								#CHANGE BEFORE FLIGHT
Use Bank Controller							= true							#CHANGE BEFORE FLIGHT
Simulation       							= false							#CHANGE BEFORE FLIGHT
Guidance Mode								= OPTIMAL_LONG_STRETCH			#CHANGE BEFORE FLIGHT

[Control.Path.Height]
Enabled                                 = Always
Height bandwidth                        = 40
Vertical Rate maximum gain              = 0.20
#EstimatedState Filter                   = ntnu-x8-006:Autopilot
#DesiredZ Filter                         = ntnu-x8-006:Path Control

[Control.Path.LOSnSMC]#CHANGE BEFORE FLIGHT
Enabled                                 = Always
Entity Label							= Path Control
Lookahead 								= 50
Rho 									= 4
Lambda 									= 2
Kd 										= 3
Bandwidth 								= 5
Roll Time Const 						= 0.1
Use controller 							= true