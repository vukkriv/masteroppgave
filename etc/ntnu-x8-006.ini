[Require uav/arduplane.ini]

[General]
Vehicle   									= ntnu-x8-006

[Navigation.WindEstimator]
Enabled 									= Always
Entity Label 								= Wind Estimator
Sample Window Size							= 1000
Q Size										= 1000
Trusted Limit								= 1e-3

[Actuators.LogicOutput.BBB]
Enabled                                    = Hardware
Entity Label                               = Beaglebone
Pin                                        = 48
Initial Output                             = 1

[Control.UAV.Ardupilot/AP-SIL]
Ardupilot Tracker			               = True
RC 1 PWM MIN                               = 1000
RC 1 PWM MAX                               = 2000
RC 1 MAX                                   = 65.0
RC 2 PWM MIN                               = 1000
RC 2 PWM MAX                               = 2000
RC 2 MAX                                   = 2.0
RC 2 REV                                   = True
RC 3 PWM MIN                               = 1000
RC 3 PWM MAX                               = 2000
RC 3 MIN                                   = 10.0
RC 3 MAX                                   = 30.0
Telemetry Rate							   = 10
#Enabled									   = Hardware
#TCP - Address 							   = 127.0.0.1#10.0.60.126 # Used to connect to ArduPilot from BBB
#TCP - Port								   = 5762#5762 # Used to connect to ArduPilot from BBB

[Transports.SerialOverTCP]                                                      
Enabled = Hardware                                                              
Entity Label = Arduino Serial                                                   
Serial Port - Device =/dev/uart/1                                               
Serial Port - Baud Rate = 115200                                                
TCP - Port = 9999                         

[Control.UAV.Ardupilot/Hardware]
Ardupilot Tracker			               = True
RC 1 PWM MIN                               = 899
RC 1 PWM MAX                               = 2101
RC 1 MAX                                   = 45.0
RC 2 PWM MIN                               = 899
RC 2 PWM MAX                               = 2064
RC 2 MAX                                   = 2.0
RC 2 REV                                   = False
RC 3 PWM MIN                               = 954
RC 3 PWM MAX                               = 1901
RC 3 MIN                                   = 12.0
RC 3 MAX                                   = 22.0
Enabled                                    = Hardware
Entity Label                               = Autopilot
TCP - Address                              = 10.0.60.127
TCP - Port                                 = 9801
#TCP - Address                              = 127.0.0.1
#TCP - Port                                 = 9999

[General]
Time Of Arrival Factor                  	= 5.0


[Autonomy.DropOnTarget]
Enabled 									= Always
Entity Label 								= Drop on Target 				
Altitude Interval							= 1		
Connection Timeout							= 3
Distance To LSSP							= 100
Start Point Distance From CARP				= 200
End Point Distance From CARP				= 200
Percent Accurate							= 7
Radius										= 100
Release Height								= 50
Speed										= 17
Drop Error									= 15
Guidance Mode								= OWSI#CHANGE BEFORE FLIGHT
Safe Height									= 100
Max Drop Current			 				= 3#CHANGE BEFORE FLIGHT
Glide Time 									= 0.1
Drop Time									= 0.6
Use Bank Controller							= true#CHANGE BEFORE FLIGHT
Use Wind Estimator							= true
Step Size									= 0.001
Optimize Points								= 60
Optimize Rads								= 1
Direct To Optimal							= false#CHANGE BEFORE FLIGHT
Max Counter									= 100000
Optimize Once								= false
Optimization Rate Inverse					= 5
Position Weight								= 5
Velocity Weight								= 1
Repeated Testing							= true#CHANGE BEFORE FLIGHT
#Course Error Const							= 1
#Wind Difference Const						= 1
#Path Error Horizontal Const					= 1
#Path Error Vertical Const					= 1
#Speed Error Constant						= 1
OWSI Min Distance							= 20

[Control.Path.Height]
Enabled                                 = Always
Height bandwidth                        = 40
Vertical Rate maximum gain              = 0.20
EstimatedState Filter                   = ntnu-x8-006:Autopilot
DesiredZ Filter                         = ntnu-x8-006:Path Control

[Control.Path.LOSnSMC]#CHANGE BEFORE FLIGHT
Enabled                                 = Always
Entity Label							= Path Control
Lookahead 								= 50
Rho 									= 4
Lambda 									= 2
Kd 										= 3
Bandwidth 								= 5
Roll Time Const 						= 0.1
Use controller 							= true

[Transports.Logging]
Transports                              = AngularVelocity,
                                          Announce,
                                          AutopilotMode,
                                          Brake,
                                          ControlLoops,
                                          CpuUsage,
                                          Current,
                                          Distance,
                                          DesiredHeading,
                                          DesiredPath,
                                          DesiredRoll,
                                          DesiredSpeed,
                                          DesiredVerticalRate,
                                          DesiredZ,
                                          EntityList,
                                          EntityState,
                                          EstimatedState,
                                          EstimatedStreamVelocity,
                                          FollowReference,
                                          FollowRefState,
                                          FuelLevel,
                                          GpsFix,
                                          IndicatedSpeed,
                                          LeaderState,
                                          LinkLevel,
                                          LogBookEntry,
                                          MagneticField,
                                          ManeuverControlState,
                                          PathControlState,
                                          PlanControl,
                                          PlanSpecification,
                                          PlanControlState,
                                          PlanDB,
                                          PowerChannelControl,
                                          PowerChannelState,
                                          Pressure,
                                          Reference,
                                          Rpm,
                                          RSSI,
                                          SetControlSurfaceDeflection,
                                          SetThrusterActuation,
                                          SimulatedState,
                                          StopManeuver,
                                          StorageUsage,
                                          Target,
                                          Temperature,
                                          TrueSpeed,
                                          VehicleCommand,
                                          VehicleMedium,
                                          VehicleState,
                                          Voltage,
                                          PWM