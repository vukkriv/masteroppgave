############################################################################
# Copyright 2007-2014 Universidade do Porto - Faculdade de Engenharia      #
# Laboratório de Sistemas e Tecnologia Subaquática (LSTS)                  #
############################################################################
# This file is part of DUNE: Unified Navigation Environment.               #
#                                                                          #
# Commercial Licence Usage                                                 #
# Licencees holding valid commercial DUNE licences may use this file in    #
# accordance with the commercial licence agreement provided with the       #
# Software or, alternatively, in accordance with the terms contained in a  #
# written agreement between you and Universidade do Porto. For licensing   #
# terms, conditions, and further information contact lsts@fe.up.pt.        #
#                                                                          #
# European Union Public Licence - EUPL v.1.1 Usage                         #
# Alternatively, this file may be used under the terms of the EUPL,        #
# Version 1.1 only (the "Licence"), appearing in the file LICENCE.md       #
# included in the packaging of this file. You may not use this work        #
# except in compliance with the Licence. Unless required by applicable     #
# law or agreed to in writing, software distributed under the Licence is   #
# distributed on an "AS IS" basis, WITHOUT WARRANTIES OR CONDITIONS OF     #
# ANY KIND, either express or implied. See the Licence for the specific    #
# language governing permissions and limitations at                        #
# https://www.lsts.pt/dune/licence.                                        #
############################################################################
# Author: Jon-Håkon Bøe Røli                                               #
############################################################################
# Formation parameters.                                                    #
############################################################################

[Control.Formation.Force]
Enabled                                 = Always
Entity Label                            = Formation Controller
Debug Level                             = None
Print Frequency                         = 0.1
Print EstimatedLocalState warning		= False
Execution Frequency                     = 30
EstimatedLocalState Entity Label	    = Formation Centroid
Desired Heading Entity Labels		= Desired Heading Formation Path Control, 
					  Desired Heading Net-Catch Coordinator, RCCoordinated Controller
Desired Linear Entity Labels		= Desired Linear Formation Path Control,					 
					  Desired Linear Net-Catch Coordinator, RCCoordinated Controller
Maximum Speed                           = 4
Delay Threshold                         = 1000
Meta Smoothing Time Constant            = 2.0
Disable Heave flag                      = False
Use altitude			        = True
Disable Force flag                      = False
Kp Velocity Control						= 3,3,3
Ki Velocity Control						= 0.000,0.000,0.000
Kd Velocity Control						= 0.25,0.25,0.25
Maximum Normalized Force				= 10
Enable Desired Heading Lowpass			= False
Collision Avoidance Radius				= 2.0
Collision Avoidance Saturation			= 1.5
Heading Smoothing Time Constant         = 4.0
Enable Link Filter  		    		= False
Link Filter Beta			    		= 0.8

[Transports.Formation.Centroid]
Enabled                                 = Always
Entity Label                            = Formation Centroid
Desired Heading Entity Labels		= Desired Heading Formation Path Control, 
					  Desired Heading Net-Catch Coordinator
Debug Level                             = None
Print Frequency				= 0.1

[Control.Formation.Coordinator]
Enabled                                 = Always
Entity Label                            = Formation Coordinator
Debug Level                             = None                                        

[Transports.DiscoverVehicle/Formation] 
Enabled									= Always
Entity Label							= Discover Vehicle Formation
Debug Level								= None
Timeout									= 30
Transport Entity Label				    = Formation Forwarder
Service type							= imc+udp+intervehicleFormation
Vehicle List							= ntnu-hexa-004,ntnu-hexa-003

[Transports.UDP/Formation]
Enabled									= Always
Entity Label							= Formation Forwarder
Transports								= FormPos,
                                          FormCoord,
                                          DesiredLinearState,
                                          DesiredHeading
Filtered Entities                       = DesiredLinearState:Desired Linear Formation Path Control+Desired Linear Net-Catch Coordinator,
					   				      DesiredHeading:Desired Heading Formation Path Control+Desired Heading Net-Catch Coordinator
Local Port								= 6010
Dynamic Nodes                           = False
Local Messages Only                     = True
Custom Service Type						= intervehicleFormation
